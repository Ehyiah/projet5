{% extends 'base.html.twig' %}
{% form_theme form _self %}

{% block title %}
    Editer un Element
{% endblock title %}


{% block body %}
    <div class="container">
        <hr>
        <h1>Modification de l'élément</h1>
        <hr>
        {{ form_start(form) }}

        {{ form_row(form.title) }}
        {{ form_row(form.region) }}
        {{ form_row(form.author) }}
        {{ form_row(form.publisher) }}
        {{ form_row(form.etat) }}
        {{ form_row(form.buy_price) }}
        {{ form_row(form.support) }}
        {{ form_row(form.player_number) }}
        {{ form_row(form.value) }}
        <div style="display: none">
            {{ form_row(form.collection, { 'disabled' : true }) }}
        </div>


        <div class="border border-success text-center">
            {% if form.images is empty %}
                <p>Aucune image associée à cet élément</p>
            {% endif %}
            <div class="rounded mx-auto d-block ">
                {% for imagesForm in form.images %}
                        <img src="{{ imagesForm.image.vars.image_url }}" class="img-thumbnail">
                {% endfor %}
            </div>

        </div>


        <div class="images" data-prototype="{{ form_widget(form.images.vars.prototype)|e('html_attr') }}">
        </div>

        <div style="display: none">
            {{ form_row(form.images) }}
        </div>


        <button type="submit" class="btn btn-primary">Modifier</button>
        <a href="{{ path('showDetailled', {'idCollection' : app.request.session.get('id'), 'collectionName' : app.request.session.get('collectionName') })}}" class="btn btn-primary">Retour</a>

        {{ form_end(form) }}


    </div>

{% endblock body %}
